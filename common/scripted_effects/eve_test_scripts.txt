
############################
# EVE - Test Scripts
############################

# Run all defined tests
# @scope country
# @access public
test.run_tests = {

	test.run_common_tests = yes

	if = {
		limit = { ai = yes }
		test.run_ai_tests = yes
	}
	else = {
		test.run_player_tests = yes
	}
}

# Run both AI and Player tests
# @access public
test.run_common_tests = {

}

# Run AI only tests
# @access public
test.run_ai_tests = {

	test.check_war_taxes = yes
}

# Run Player only tests
# @access public
test.run_player_tests = {

	#logger.print_info { id = 101 }
}

# Check if war taxes are working correctly
# @access public
test.check_war_taxes = {

	if = {
		limit = { has_country_flag = war_taxes_raised }
		if = {
			limit = { NOT = { has_wartaxes = yes } }
			clr_country_flag = war_taxes_raised
			logger.print_info { id = 103 }
		}
	}
	else_if = {
		limit = { has_wartaxes = yes }
		set_country_flag = war_taxes_raised
		logger.print_info { id = 102 }
		if = {
			limit = { NOT = { has_country_modifier = ai_war_taxes_effects } }
			logger.print_error = { id = 212 }
		}
	}
}

