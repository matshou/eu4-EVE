
#############################
# EVE - Logger Scripts
#############################

# Print error message to game.log
# Strings are stored in localization files
# @scope anywhere
# @param code, method (localization)
#
logger.print_error = {

	event_target:global = {
		set_variable = { which = c value = $code$ }
		set_variable = { which = m value = $method$ }
	}
	logger.call_logger = { event = print_error }
}

# Print variable value to game.log
# @scope anywhere
# @param var
#
logger.print_variable_info = {

	set_variable = { which = k which = $var$ }
	logger.call_logger = { event = print_info }
}

# Helper method that calls appropriate logger event
# @scope anywhere
# @param event$
#
logger.call_logger = {

	if = {
		limit = { core.is_country = yes }
		country_event = { id = eve_$event$.1 }
	}
	else_if = {
		limit = { core.is_province = yes }
		province_event = { id = eve_$event$.2 }
	}
	else = { log = "EVE: Error >> Tried to print log from unknown scope!" }
}
