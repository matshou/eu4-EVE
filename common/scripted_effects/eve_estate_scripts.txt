
##################################
# EVE - Estate Scripts
##################################

# Called from 'province_scripts' when country develops a province
# TODO: Add more estates here
# @scope province
# @access public
#
estates.on_development = {

	if = {
		limit = {
			has_estate = estate_burghers
			NOT = { province.is_estate_developing = { estate = burghers } }
		}
		estates.set_developing = { estate = burghers }
	}
	else_if = {
		limit = {
			has_estate = estate_church
			NOT = { province.is_estate_developing = { estate = church } }
		}
		estates.set_developing = { estate = church }
	}
	else_if = {
		limit = {
			has_estate = estate_nobles
			NOT = { province.is_estate_developing = { estate = nobles } }
		}
		estates.set_developing = { estate = nobles }
	}
}

# Apply an estate modifier that gives temporary loyalty
# bonus when developing their provinces
# @scope province
# @access private
#
estates.set_developing = {

	owner = {
		add_country_modifier = {
			name = estate_developed_$estate$
			duration = 60 hidden = yes
		}
	}
}
